<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Know God Better v5</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2b1f16">

  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">

<link rel="icon" type="image/png" sizes="16x16" href="icon-192.png">
<link rel="icon" type="image/png" sizes="32x32" href="icon-512.png">

</head>

<body class="dark">
  
<!-- Update notification banner -->
<div id="update-notice">
  A new version is available — tap to refresh
</div>

<div id="pwa-controls">
  <button id="install-btn" hidden>➕ Add to Home Screen</button>
</div>

  <nav id="icon-bar"></nav>

  <header id="top-bar">
  <button id="back-button" hidden>←</button>
  <h1 id="page-title">Know God Better</h1>
  <div class="top-nav"></div>
  </header>

  <main id="app">
    <!-- Content injected by app.js -->
  </main>

  <script src="app.js"></script>

  <script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./service-worker.js');

  });
}
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./service-worker.js').then(reg => {
    reg.addEventListener('updatefound', () => {
      const newWorker = reg.installing;

      newWorker.addEventListener('statechange', () => {
        if (newWorker.state === 'installed') {
          if (navigator.serviceWorker.controller) {
            // A new version is available
            showUpdateNotification();
          }
        }
      });
    });
  });
}
<div id="update-notice" style="
  position: fixed;
  bottom: 1rem;
  left: 50%;
  transform: translateX(-50%);
  background: #d41a17;
  color: white;
  padding: 0.75rem 1.2rem;
  border-radius: 6px;
  font-family: 'Merriweather', serif;
  font-size: 0.95rem;
  cursor: pointer;
  display: none;
  z-index: 2000;
">
  New version available — tap to refresh
</div>

</script>

</body>
</html>
